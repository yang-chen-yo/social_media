
![Untitled](https://github.com/user-attachments/assets/4c04b520-027f-4a3b-ae83-22e5d3a88f3d)

![image](https://github.com/user-attachments/assets/3401e3c2-e0e0-4416-b922-7713179f5d4b)

è‹¥ A å°é– B â†’ A çœ‹ä¸åˆ° Bï¼ŒB çœ‹ä¸åˆ° A

è‹¥ A å°é– B â†’ è¿½è¹¤æŒ‰éˆ• disabled

è‹¥ A å˜—è©¦ç•™è¨€ B çš„è²¼æ–‡ â†’ é¡¯ç¤ºéŒ¯èª¤

è‹¥ A å˜—è©¦è¨ªå• B çš„å€‹äººé  â†’ é¡¯ç¤ºã€Œä½¿ç”¨è€…ä¸å­˜åœ¨æˆ–ä¸å¯æŸ¥çœ‹ã€

| API è·¯å¾‘               | æ–¹æ³•   | èªªæ˜       |
| -------------------- | ---- | -------- |
| `/api/page/login`    | GET  | ç™»å…¥é é¢ï¼ˆå¯é¸ï¼‰ |
| `/api/auth/login`    | POST | ä½¿ç”¨è€…ç™»å…¥    |
| `/api/auth/logout`   | POST | ä½¿ç”¨è€…ç™»å‡º    |
| `/api/auth/register` | POST | ä½¿ç”¨è€…è¨»å†Š    |
| API è·¯å¾‘                   | æ–¹æ³•     | èªªæ˜       | ğŸ“Œ æ˜¯å¦éœ€ ID   |
| ------------------------ | ------ | -------- | ----------- |
| `/api/posts/feed`        | GET    | å–å¾—è¿½è¹¤è€…çš„è²¼æ–‡ | âŒ           |
| `/api/posts`             | POST   | å»ºç«‹æ–°è²¼æ–‡    | âŒ           |
| `/api/posts/update/<id>` | PUT    | ç·¨è¼¯è²¼æ–‡å…§å®¹   | âœ… `post_id` |
| `/api/posts/delete/<id>` | DELETE | åˆªé™¤è²¼æ–‡     | âœ… `post_id` |
| API è·¯å¾‘                     | æ–¹æ³•   | èªªæ˜      | ğŸ“Œ æ˜¯å¦éœ€ ID   |
| -------------------------- | ---- | ------- | ----------- |
| `/api/users/follow/<id>`   | POST | è¿½è¹¤æŸå€‹ä½¿ç”¨è€… | âœ… `user_id` |
| `/api/users/unfollow/<id>` | POST | å–æ¶ˆè¿½è¹¤    | âœ… `user_id` |
| `/api/users/block/<id>`    | POST | å°é–æŸå€‹ä½¿ç”¨è€… | âœ… `user_id` |
| `/api/users/unblock/<id>`  | POST | å–æ¶ˆå°é–    | âœ… `user_id` |
| API è·¯å¾‘                           | æ–¹æ³•     | èªªæ˜           | ğŸ“Œ æ˜¯å¦éœ€ ID      |
| -------------------------------- | ------ | ------------ | -------------- |
| `/api/posts/like/<id>`           | POST   | å°è²¼æ–‡æŒ‰è®š        | âœ… `post_id`    |
| `/api/posts/dislike/<id>`        | POST   | å°è²¼æ–‡æŒ‰å€’è®š       | âœ… `post_id`    |
| `/api/posts/comment/new/<id>`    | POST   | ç™¼å¸ƒç•™è¨€ï¼ˆæ”¯æ´å·¢ç‹€ç•™è¨€ï¼‰ | âœ… `post_id`    |
| `/api/posts/comment/update/<id>` | PUT    | ä¿®æ”¹ç•™è¨€å…§å®¹       | âœ… `comment_id` |
| `/api/posts/comment/delete/<id>` | DELETE | åˆªé™¤ç•™è¨€         | âœ… `comment_id` |
| `/api/posts/comments/<id>`       | GET    | æŸ¥è©¢æŸè²¼æ–‡çš„æ‰€æœ‰ç•™è¨€   | âœ… `post_id`    |

| API è·¯å¾‘                       | æ–¹æ³•   | èªªæ˜      | ğŸ“Œ æ˜¯å¦éœ€ ID   |
| ---------------------------- | ---- | ------- | ----------- |
| `/api/admin/posts/hide/<id>` | POST | ç®¡ç†å“¡ä¸‹æ¶è²¼æ–‡ | âœ… `post_id` |


ğŸ§  å¢å¼·å¼å­¸ç¿’æ€æƒ³ï¼ˆReinforcement Learning Intuitionï¼‰
ç¶“éReinforcement Learning Intuitionæ¨è–¦çš„æ¼”ç®—ç­‰åƒ¹æ–¼ä¸€å€‹ äº’å‹•åå¥½ 80 % ï¼‹ éš¨æ©Ÿæ¢ç´¢ 20 % ã€Œå¤šè‡‚æ©Ÿå™¨è³­åšæ©Ÿï¼ˆMulti-Armed Banditï¼‰ã€å•é¡Œï¼š
é¡æ¯”å¢å¼·å­¸ç¿’çš„ 4 å¤§å…ƒç´ 
å…ƒä»¶  ä½ ç³»çµ±ä¸­çš„å¯¦ä½œ
ğŸŸ¦ ç‹€æ…‹ (State)   ä½¿ç”¨è€…æœ€è¿‘äº’å‹•ç´€éŒ„æ§‹æˆç‹€æ…‹å‘é‡ï¼š
â€¢ top_tagsï¼ˆ7 å¤©å…§åå¥½ä¸»é¡Œï¼‰
â€¢ recent_view_tagsï¼ˆè¿‘ 1 å¤©çœ‹éä¸»é¡Œï¼‰
â€¢ last_active_minutesï¼ˆä½¿ç”¨è€…æ´»èºåº¦ï¼‰
ğŸŸ© è¡Œå‹• (Action)  æ¨è–¦æŸä¸€ç¯‡è²¼æ–‡çš„ post_idï¼ˆä¸€æ¬¡å›å‚³ k ç¯‡ï¼‰
ğŸŸ¨ çå‹µ (Reward)  ä½¿ç”¨è€…å¯¦éš›è¡Œç‚ºï¼š
â€¢ view +0.1
â€¢ like +1.0
â€¢ comment +1.5
â€¢ share +2.0ï¼ˆä¸¦åŠ å…¥æ™‚é–“è¡°æ¸›ï¼‰
ğŸŸ¥ ç­–ç•¥ (Policy)  combined_score()ï¼šåˆ†æ•¸å‡½æ•¸
â€¢ çµåˆ post_rewards, tag_rewards, bonus
â€¢ æ’åºå¾Œæ¨è–¦å‰ k ç¯‡è²¼æ–‡
ğŸ” TagAwareBanditï¼šæ¨è–¦æµç¨‹ï¼ˆç­–ç•¥å­¸ç¿’è§’åº¦ï¼‰
1. ç²å¾—ç‹€æ…‹ï¼šå»ºæ§‹ä½¿ç”¨è€…åå¥½
å¾ Action è¡¨ä¸­åˆ†æï¼š
è¿‘ 7 å¤©å¸¸äº’å‹•çš„ tag â†’ å»ºç«‹ top_tags
è¿‘ 1 å¤©çœ‹éçš„è²¼æ–‡ tag â†’ å»ºç«‹ recent_view_tags
ä¸Šæ¬¡æ´»èºæ™‚é–“ â†’ last_active_minutes
é€™äº›çµ„æˆç•¶å‰çš„ ä½¿ç”¨è€…ç‹€æ…‹ stateã€‚
 2. æ±ºç­–ï¼ˆç­–ç•¥è¨ˆåˆ†ï¼‰ï¼šcombined_score()
æ¯ç¯‡å€™é¸è²¼æ–‡æœƒè¨ˆç®—ä¸€å€‹åˆ†æ•¸ï¼Œçµ„æˆç­–ç•¥ Ï€(s, a)ï¼š
äº’å‹• rewardï¼špost_rewardsï¼ˆlike/comment æ•´é«”å“è³ªï¼‰
å€‹äºº tag rewardï¼šuser_tag_rewardsã€fallback å…¨é«” tag_rewards
åå¥½å‘½ä¸­åŠ åˆ†ï¼š
å‘½ä¸­ top_tagsï¼š+0.2
å‘½ä¸­ recent_view_tagsï¼š+0.15
å·²çœ‹éè²¼æ–‡é™åˆ†ï¼šÃ— 0.4
æœ€å¾Œï¼š
score = (1 - tag_weight) * post_reward + tag_weight * tag_reward + bonus
3. æ¡æ¨£è¡Œå‹•ï¼šæ¨è–¦è²¼æ–‡
å°‡æ‰€æœ‰è²¼æ–‡ä¾åˆ†æ•¸æ’åºå¾Œï¼š
å‰ 80% â†’ ä¸»æ¨è–¦ï¼ˆåå¥½ï¼‰
å¾Œ 20% â†’ å¾æœªçœ‹éè²¼æ–‡éš¨æ©ŸæŠ½æ¨£ï¼ˆæ¢ç´¢ï¼‰
ç³»çµ±å›å‚³ä¸€çµ„æ¨è–¦è²¼æ–‡ IDï¼Œä¸¦é¡¯ç¤ºçµ¦ä½¿ç”¨è€…ã€‚
4. ç­‰å¾…å›é¥‹ï¼šç²å– Reward
ä½¿ç”¨è€…å°æ¨è–¦è²¼æ–‡çš„è¡Œç‚ºæœƒè¨˜éŒ„åœ¨ Action è¡¨ä¸­ï¼ˆåŒ…æ‹¬ view / like / comment ç­‰ï¼‰ã€‚
é€™äº›è¡Œç‚ºå³ç‚º å¯¦éš› rewardã€‚
5. ç­–ç•¥æ›´æ–°ï¼šå¯¦æ™‚å­¸ç¿’
åœ¨ä¸‹ä¸€æ¬¡åŸ·è¡Œ update(session) æ™‚ï¼š
é‡æ–°çµ±è¨ˆæœ€è¿‘ 30 å¤©äº’å‹•
å°‡ reward åŠ ç¸½ã€åŠ æ¬Šã€æ™‚é–“è¡°æ¸›
æ›´æ–° post_rewards, tag_rewards, user_tag_rewards




å‰ç«¯æ»‘å‹•åˆ°è²¼æ–‡å€å¡Šæ™‚æ‰“ API è‡³å°‘åœç•™ 5 ç§’æ‰ç®— view
        G
    end

